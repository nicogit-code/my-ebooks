(this["webpackJsonpebooks-react"]=this["webpackJsonpebooks-react"]||[]).push([[0],{13:function(e,a,t){e.exports={navBar:"Header_navBar__wPwVJ",navLogo:"Header_navLogo__3XiIm",navItems:"Header_navItems__XRqeG",siteNav:"Header_siteNav__3-Y-P",active:"Header_active__pblJ7",searchBar:"Header_searchBar__3djX0",actions:"Header_actions__1WCPV"}},14:function(e,a,t){e.exports={container:"GoT_container__3Of8U",headers:"GoT_headers__2AsFy",button:"GoT_button__3BjSu",books:"GoT_books__2OfYH",book:"GoT_book__3QQ02",details:"GoT_details__18Gjk"}},16:function(e,a,t){e.exports={formBody:"AddBookReview_formBody__KBjPq",formGroup:"AddBookReview_formGroup__tho6B",formControl:"AddBookReview_formControl__15ig_",alert:"AddBookReview_alert___eG-j",button:"AddBookReview_button__G2aPk"}},17:function(e,a,t){e.exports={reviews:"BookDetails_reviews__1w5Gt",cardImg:"BookDetails_cardImg__1uvI5",button:"BookDetails_button__2RX7K",alert:"BookDetails_alert__2fVEI"}},18:function(e,a,t){e.exports={card:"BookCard_card___V-n3",cardBody:"BookCard_cardBody__2-Tjp",cardImg:"BookCard_cardImg__6LCxj",bookRating:"BookCard_bookRating__x6lB_",button:"BookCard_button__2AJ2p"}},19:function(e,a,t){e.exports={formBody:"Login_formBody__1dso3",formGroup:"Login_formGroup__2bM46","form-control":"Login_form-control__2pUGS",button:"Login_button__1cmTR",social:"Login_social__1WVdk",socialBtn:"Login_socialBtn__vFsvT"}},22:function(e,a,t){e.exports={container:"BookList_container__wota7",list:"BookList_list__1USAM"}},27:function(e,a,t){e.exports={form:"Dictionary_form__1RSKE",userInput:"Dictionary_userInput__3knTL",button:"Dictionary_button__2QFEG","word-search":"Dictionary_word-search__19Sh2","list-item":"Dictionary_list-item__2-JAJ",definition:"Dictionary_definition__qqKbM"}},28:function(e,a,t){e.exports={formBody:"Register_formBody__JuD4A",button:"Register_button__VQ7n-"}},29:function(e,a,t){},41:function(e,a,t){e.exports=t.p+"static/media/logo2.56f73f92.png"},43:function(e,a,t){e.exports={currentTemp:"Weather_currentTemp__J6uPe"}},44:function(e,a,t){e.exports={container:"App_container__3WaqH"}},45:function(e,a,t){e.exports=t(74)},74:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(40),l=t.n(c),s=t(2),o=t(6),u=t(5),i=(t(50),r.a.createContext({username:null,setUser:function(){},getUser:function(){}})),m=t(41),d=t.n(m),p=t(13),f=t.n(p);var b=function(){var e=Object(n.useContext)(i),a=e.user,t=e.setUser,c=Object(n.useState)(""),l=Object(s.a)(c,2),m=l[0],p=l[1],b=Object(u.g)(),v=null;return r.a.createElement("nav",{className:f.a.navBar},r.a.createElement("img",{className:f.a.navLogo,src:d.a,alt:"logo",width:180,height:100}),r.a.createElement("div",{className:f.a.siteNav},r.a.createElement("ul",null,r.a.createElement("li",{className:f.a.active},r.a.createElement("a",{href:"/"},"Home")),r.a.createElement("li",null,r.a.createElement("a",{href:"/game-of-thrones"},"GoT Lovers only")))),r.a.createElement("div",{className:f.a.actions},r.a.createElement("div",{className:f.a.siteNav},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("input",{className:f.a.searchBar,onChange:function(e){v&&clearTimeout(v);var a=e.currentTarget.value;p(a),v=setTimeout((function(){return b.push("/?q="+a)}),300)},value:m,type:"text",placeholder:"Caut\u0103 o carte"})),r.a.createElement("li",null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{className:f.a.active,to:"/profile"},"Welcome, ",a.username),r.a.createElement("a",{href:"/",className:f.a.active,onClick:function(e){e.preventDefault(),t(null),localStorage.removeItem("user")}},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{className:f.a.active,to:"/login"},"Login"),r.a.createElement(o.b,{className:f.a.active,to:"/register"},"Register")))))))},v=t(1),E=t.n(v),h=t(4),w=t(3),g=t.n(w),_=t(22),j=t.n(_),O=t(18),y=t.n(O);var N=function(e){var a=e.book,t=e.onDelete;return r.a.createElement("div",{className:y.a.card},r.a.createElement("ul",{className:y.a.cardBody},r.a.createElement("li",null,r.a.createElement("img",{className:y.a.cardImg,src:a.cover,component:"img",alt:"Book Cover"})),r.a.createElement("li",null,r.a.createElement("h5",{className:y.a.bookTitle}," ",a.title," ")),r.a.createElement("li",null,r.a.createElement("h6",{className:y.a.bookAuthor}," ",a.author," ")),r.a.createElement("li",null,r.a.createElement("p",{className:y.a.bookRating},"Rating: ",a.rating," ")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/books/"+a.id,className:y.a.button},"Detalii")),t&&r.a.createElement("li",null,r.a.createElement("button",{className:y.a.button,onClick:function(){return t(a.libId)}},"Delete"))))},k=t(43),x=t.n(k);var S=function(){var e=Object(n.useState)(null),a=Object(s.a)(e,2),t=a[0],c=a[1];function l(){return(l=Object(h.a)(E.a.mark((function e(){var a,t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.openweathermap.org/data/2.5/weather?q=Brasov,ro&appid=af588ac18f73c1ee8e2ddbd115f8ffe3",e.next=3,g.a.get("https://api.openweathermap.org/data/2.5/weather?q=Brasov,ro&appid=af588ac18f73c1ee8e2ddbd115f8ffe3");case 3:a=e.sent,t=a.data.main.temp,c(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:x.a.currentTemp},r.a.createElement("div",null,"Temperatura curent\u0103 \xeen Bra\u0219ov:",(t-273.15).toFixed(1)+"\xb0C"))},B=t(27),C=t.n(B);var T=function(){return document.getElementById("definitions"),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:C.a.form},r.a.createElement("div",{className:"row justify-content-center align-items-center"},r.a.createElement("div",{id:"word-search",className:"col-md-7"},r.a.createElement("h3",null,"Book-tionary"),r.a.createElement("h5",null,"Comprehensive Word Information"))),r.a.createElement("div",{id:"form-row",className:"row sticky-top"},r.a.createElement("div",{className:"col"},r.a.createElement("form",{id:"main-form"},r.a.createElement("fieldset",null,r.a.createElement("label",{htmlFor:"word"},"Enter Word"),r.a.createElement("input",{id:"word-input",type:"text",className:"form-control",name:"word",placeholder:"abibliophobia"}),r.a.createElement("button",{type:"submit",className:C.a.button},"Cauta"))))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-10"},r.a.createElement("ul",{id:"word-info",className:"list-unstyled"})))))};var I=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],c=a[1],l=new URLSearchParams(Object(u.h)().search).get("q")||"";function o(){return(o=Object(h.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g()("/books");case 2:a=e.sent,c(a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(n.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]),t)return r.a.createElement("div",{className:j.a.container},r.a.createElement("div",{className:j.a.pageItems},r.a.createElement("div",null,r.a.createElement(S,null)),r.a.createElement("div",{className:j.a.list},t.filter((function(e){return e.title.toLowerCase().includes(l.toLowerCase())})).map((function(e){return r.a.createElement(N,{book:e,key:e.id})}))),r.a.createElement("div",null,r.a.createElement(T,null))))},L=t(17),D=t.n(L);var G=function(){var e=Object(u.i)().bookId,a=Object(n.useState)(null),t=Object(n.useState)([]),c=Object(s.a)(t,2),l=c[0],m=c[1],d=Object(n.useContext)(i).user;function p(){return(p=Object(h.a)(E.a.mark((function e(t){var n,r,c,l,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=[]).push(g()("/popularity/"+t).then((function(e){return e.data}))),n.push(g()("/reviews?popularityId="+t).then((function(e){return e.data}))),e.next=6,Promise.all(n);case 6:r=e.sent,c=Object(s.a)(r,2),l=c[0],o=c[1],m(o),a(l),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.warn(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}if(Object(n.useEffect)((function(){!function(e){p.apply(this,arguments)}(e)}),[e]),l)return r.a.createElement("div",{className:"reviews"},r.a.createElement("h3",null,"Reviews"),l.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,e.user),r.a.createElement("h6",null,e.date),r.a.createElement("p",null,e.body),d&&d.username===e.user?r.a.createElement(o.b,{className:D.a.button,to:"/books/edit/"+e.id,key:e.id},"Editeaza review"):null)})))};var R=function(){var e=Object(u.i)().bookId,a=Object(n.useState)(null),t=Object(s.a)(a,2),c=t[0],l=t[1],m=Object(n.useState)(!1),d=Object(s.a)(m,2),p=d[0],f=d[1],b=Object(n.useState)(null),v=Object(s.a)(b,2),w=v[0],_=v[1],j=Object(n.useContext)(i).user;function O(){return(O=Object(h.a)(E.a.mark((function e(a){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g()("/books/"+a);case 3:t=e.sent,l(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function y(){return(y=Object(h.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("/userLibrary",{userId:j.id,bookId:c.id});case 2:e.sent,_(!0),setTimeout((function(){return f(!0)}),1e3);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(e){O.apply(this,arguments)}(e)}),[e]),c?r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:D.a.container},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8"},r.a.createElement("h1",null,c.title),r.a.createElement("h4",null,"Autor: ",c.author),r.a.createElement("p",null,"Categorie: ",c.genre),r.a.createElement("p",null,"ISBN: ",c.isbn),r.a.createElement("p",null,"Anul public\u0103rii: ",c.publicationDate," "),r.a.createElement("p",null,"Titlul original: ",c.originalTitle),r.a.createElement("p",null,"Limba original\u0103: ",c.originalLanguage),r.a.createElement("p",null,"Descriere: ",c.description," ",r.a.createElement("a",{href:c.readMore},"Citeste mai mult")),j?r.a.createElement(o.b,{className:D.a.button,to:c.download},"Download"):null,j?r.a.createElement(o.b,{className:D.a.button,to:"/books/add/"+c.id},"Adaug\u0103 review"):null,j?r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{className:D.a.button,onClick:function(){return y.apply(this,arguments)}},"Adaug\u0103 la favorite"),w?r.a.createElement("div",{className:"alert alert-success",role:"alert"},"Modific\u0103rile tale a fost salvate.",p&&r.a.createElement(u.a,{to:"/profile"})):null):null),r.a.createElement("div",null,r.a.createElement("img",{className:D.a.cardImg,src:c.cover,component:"img",alt:"Book Cover"})),r.a.createElement("div",{className:D.a.reviews},r.a.createElement(G,{key:c.id}))))):r.a.createElement("h2",null,"Loading...")},F=t(11),P=t(8),A=t(16),J=t.n(A);function U(){var e=Object(u.i)().bookId,a=Object(n.useState)(null),t=Object(s.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)(!1),m=Object(s.a)(o,2),d=m[0],p=m[1],f=Object(n.useState)({body:"",date:""}),b=Object(s.a)(f,2),v=b[0],w=b[1],_=Object(n.useContext)(i).user,j=Object(n.useState)(!1),O=Object(s.a)(j,2),y=O[0],N=O[1];function k(){return(k=Object(h.a)(E.a.mark((function e(a){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g()("/books/"+a);case 3:t=e.sent,console.log(t),l(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function x(){return(x=Object(h.a)(E.a.mark((function a(t){var n;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,g.a.post("/reviews/",Object(P.a)({},v,{user:_.username,popularityId:Number(e)}));case 4:n=a.sent,N(!0),setTimeout((function(){return p(!0)}),2e3),console.log(n),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),console.warn(a.t0);case 13:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}function S(e){w(Object(P.a)({},v,Object(F.a)({},e.currentTarget.id,e.currentTarget.value)))}return Object(n.useEffect)((function(){!function(e){k.apply(this,arguments)}(e)}),[e]),c?_?r.a.createElement("div",{className:J.a.formBody},r.a.createElement("h2",null,"Ai citit-o? Scrie un review!"),y?r.a.createElement("div",{className:"alert-success"},r.a.createElement("div",{className:"alert",role:"alert"},"Review-ul tau a fost salvat."),d&&r.a.createElement(u.a,{to:"/"})):null,r.a.createElement("form",{onSubmit:function(e){return x.apply(this,arguments)}},r.a.createElement("div",{className:J.a.formGroup},r.a.createElement("input",{onChange:S,value:v.body,type:"text",className:J.a.formControl,id:"body",placeholder:"Scrie p\u0103rerea ta"}),r.a.createElement("br",null),r.a.createElement("input",{onChange:S,value:v.date,className:"dateSelector",id:"date",placeholder:"Selecteaz\u0103 data",type:"date"}),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:J.a.button},"Salveaz\u0103"))))):r.a.createElement("p",null,"Pentru a adauga un review, trebuie sa fii autentificat"):r.a.createElement("h2",null,"Loading...")}function z(){var e=Object(u.i)().reviewId,a=Object(n.useState)(!1),t=Object(s.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)({body:"",date:""}),i=Object(s.a)(o,2),m=i[0],d=i[1],p=Object(n.useState)(!1),f=Object(s.a)(p,2),b=f[0],v=f[1];function w(){return(w=Object(h.a)(E.a.mark((function a(){var t;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g()("/reviews/"+e);case 3:t=a.sent,console.log(t),d(t.data),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.warn(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}function _(e){d(Object(P.a)({},m,Object(F.a)({},e.currentTarget.id,e.currentTarget.value)))}function j(){return(j=Object(h.a)(E.a.mark((function a(t){var n;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,g.a.put("/reviews/"+e,m);case 4:n=a.sent,v(!0),setTimeout((function(){return l(!0)}),2e3),console.log(n),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),console.warn(a.t0);case 13:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){w.apply(this,arguments)}(e)}),[e]),m?r.a.createElement("div",{className:J.a.formBody},r.a.createElement("h2",null,"Editeaz\u0103 review"),b?r.a.createElement("div",{className:"alert-success"},r.a.createElement("div",{className:"alert",role:"alert"},"Modific\u0103rile tale au fost salvate."),c&&r.a.createElement(u.a,{to:"/"})):null,r.a.createElement("form",{onSubmit:function(e){return j.apply(this,arguments)},className:J.a.formGroup},r.a.createElement("div",null,r.a.createElement("p",null,m.body),r.a.createElement("input",{onChange:_,value:m.body,type:"text",className:J.a.formControl,id:"body"}),r.a.createElement("input",{onChange:_,value:m.date,className:"dateSelector",id:"date",placeholder:"",type:"date"}),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:J.a.button},"Salveaz\u0103 modificarea"))))):r.a.createElement("h2",null,"Nu ai review-uri salvate")}var H=t(14),q=t.n(H);var V=function(){var e=Object(n.useState)(null),a=Object(s.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(null),o=Object(s.a)(l,2),u=o[0],i=o[1],m=function(){var e=Object(h.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://www.anapioficeandfire.com/api/books?pageSize=30");case 2:a=e.sent,c(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(h.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://www.anapioficeandfire.com/api/characters?page=1&pageSize=100");case 2:a=e.sent,i(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:q.a.container},r.a.createElement("ul",{className:q.a.headers},r.a.createElement("li",null,r.a.createElement("h1",null,"Game of Thrones Books")),r.a.createElement("li",null,r.a.createElement("h5",null,"GoT lovers only!")),r.a.createElement("button",{className:q.a.button,onClick:m},"Vezi cartile GoT"),r.a.createElement("button",{className:q.a.button,onClick:d},"Vezi personajele GoT"))),r.a.createElement("div",{className:q.a.books},t&&t.map((function(e,a){var t=new Date(e.released).toDateString(),n=e.authors.join(", ");return r.a.createElement("div",{className:q.a.book,key:a},r.a.createElement("h3",null,"Book ",a+1),r.a.createElement("h2",null,e.name),r.a.createElement("div",{className:q.a.details},r.a.createElement("p",null,"\ud83d\udc68: ",n),r.a.createElement("p",null,"\ud83d\udcd6: ",e.numberOfPages," pages"),r.a.createElement("p",null,"\ud83c\udfd8\ufe0f: ",e.country),r.a.createElement("p",null,"\u23f0: ",t)))}))),r.a.createElement("div",{className:q.a.books},u&&u.map((function(e,a){var t=e.aliases.join(", ");return r.a.createElement("div",{className:q.a.book,key:a},r.a.createElement("h3",null,"Character ",a+1),r.a.createElement("h2",null,e.name),r.a.createElement("div",{className:q.a.details},r.a.createElement("p",null,"\ud83d\udc68: ",t),r.a.createElement("p",null,"\ud83d\udcd6: ",e.gender," "),r.a.createElement("p",null,"\ud83c\udfd8\ufe0f: ",e.playedBy),r.a.createElement("p",null,"\u23f0: ",e.tvSeries)))}))))},M=t(28),W=t.n(M),K={username:"Please choose a username",password:"Please choose a password","retype-password":"Please retype password","different-passwords":"You must enter the same password twice","no-numbers":"Your username connot contain special characters",email:"This email is already in use. Login or try a different email adress"};var Q=function(){var e=Object(n.useState)({username:"",email:"",password:"","retype-password":""}),a=Object(s.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)({username:"",email:"",password:"","retype-password":"","different-passwords":""}),o=Object(s.a)(l,2),m=o[0],d=o[1],p=Object(n.useState)(""),f=Object(s.a)(p,2),b=f[0],v=f[1],w=Object(n.useState)(!1),_=Object(s.a)(w,2),j=_[0],O=_[1],y=Object(n.useState)(!1),N=Object(s.a)(y,2),k=N[0],x=N[1],S=Object(n.useContext)(i).setUser;function B(){return(B=Object(h.a)(E.a.mark((function e(a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),v(""),e.t0=I(),e.t0){e.next=7;break}return e.next=6,C();case 6:e.t0=e.sent;case 7:if(e.t0){e.next=23;break}return x(!1),e.prev=10,e.next=13,g.a.post("/users",t);case 13:n=e.sent,console.log(n),S(n.data),localStorage.setItem("user",JSON.stringify(n.data)),O(!0),e.next=23;break;case 20:e.prev=20,e.t1=e.catch(10),console.log(e.t1.res.data.message,n);case 23:case"end":return e.stop()}}),e,null,[[10,20]])})))).apply(this,arguments)}function C(e){return T.apply(this,arguments)}function T(){return(T=Object(h.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/users?username="+t.username).then((function(e){return e.data}));case 2:if(!e.sent.length){e.next=6;break}return v("User already exists"),e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){for(var e=Object(P.a)({},m),a=!1,n=0,r=["username","email","password","retype-password"];n<r.length;n++){var c=r[n];t[c]||(e[c]=K[c],a=!0)}return/^[a-zA-Z0-9]+$/i.test(t.username)||(e.username=K["no-numbers"],a=!0),t.password!==t["retype-password"]&&(e["different-passwords"]=K["different-passwords"],a=!0),d(e),a}function L(e){x(!0),c(Object(P.a)({},t,Object(F.a)({},e.currentTarget.id,e.currentTarget.value)));var a=Object(P.a)({},m,Object(F.a)({},e.currentTarget.id,""));"password"!==e.currentTarget.id&&"retype-password"!==e.currentTarget.id||(a["different-passwords"]=""),d(a)}return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:W.a.formBody},r.a.createElement("h1",null,"Creare cont"),b?r.a.createElement("div",{className:"alert alert-danger",role:"alert"},b):null,j?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert alert-success",role:"alert"},"Contul tau a fost creat cu succes!"),r.a.createElement(u.d,null,r.a.createElement(u.a,{from:"/register",to:"/"}))):null,r.a.createElement("form",{onSubmit:function(e){return B.apply(this,arguments)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"}),r.a.createElement("input",{onChange:L,value:t.username,type:"text",className:"form-control"+(m.username?" is-invalid":""),id:"username",placeholder:"Enter username"}),r.a.createElement("div",{className:"invalid-feedback"},m.username)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"}),r.a.createElement("input",{onChange:L,value:t.email,type:"text",className:"form-control"+(m.email?" is-invalid":""),id:"email",placeholder:"email@example.com"}),r.a.createElement("div",{className:"invalid-feedback"},m.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"}),r.a.createElement("input",{onChange:L,value:t.password,type:"password",className:"form-control"+(m.password?" is-invalid":""),id:"password",placeholder:"Password"}),r.a.createElement("div",{className:"invalid-feedback"},m.password)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"retype-password"}),r.a.createElement("input",{onChange:L,value:t["retype-password"],type:"password",className:"form-control"+(m["retype-password"]||m["different-passwords"]?" is-invalid":""),id:"retype-password",placeholder:"Retype Password"}),r.a.createElement("div",{className:"invalid-feedback"},m["retype-password"],m["retype-password"]?r.a.createElement("br",null):"",m["different-passwords"])),r.a.createElement("button",{type:"submit",className:W.a.button,disabled:!k},"Register"))))},X=t(19),Y=t.n(X),Z={username:"Please type username",password:"Please type password"};function $(){var e=Object(n.useState)({username:"",password:""}),a=Object(s.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)({username:"",password:""}),o=Object(s.a)(l,2),m=o[0],d=o[1],p=Object(n.useState)(""),f=Object(s.a)(p,2),b=f[0],v=f[1],w=Object(n.useState)(!1),_=Object(s.a)(w,2),j=_[0],O=_[1],y=Object(n.useState)(!0),N=Object(s.a)(y,2),k=N[0],x=N[1],S=Object(n.useContext)(i).setUser;function B(){return(B=Object(h.a)(E.a.mark((function e(a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),v(""),O(!1),C()){e.next=19;break}return x(!1),e.prev=6,e.next=9,g.a.post("/login",t);case 9:n=e.sent,S(n.data),console.log(n),localStorage.setItem("user",JSON.stringify(n.data)),O(!0),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),v(e.t0.response.data.message);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})))).apply(this,arguments)}function C(){for(var e=Object(P.a)({},m),a=!1,n=0,r=["username","password"];n<r.length;n++){var c=r[n];t[c]||(e[c]=Z[c],a=!0)}return d(e),a}function T(e){x(!0),c(Object(P.a)({},t,Object(F.a)({},e.currentTarget.id,e.currentTarget.value)));var a=Object(P.a)({},m,Object(F.a)({},e.currentTarget.id,""));"password"!==e.currentTarget.id&&"retype-password"!==e.currentTarget.id||(a["different-passwords"]=""),d(a)}return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:Y.a.formBody},r.a.createElement("h1",null,"Login"),b?r.a.createElement("div",{className:"alert alert-danger",role:"alert"},b):null,j?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert alert-success",role:"alert"},"Te-ai autentificat cu succes!"),r.a.createElement(u.d,null,r.a.createElement(u.a,{from:"/login",to:"/profile/"}))):null,r.a.createElement("form",{onSubmit:function(e){return B.apply(this,arguments)}},r.a.createElement("div",{className:Y.a.formGroup},r.a.createElement("input",{onChange:T,value:t.username,type:"text",className:"form-control"+(m.username?" is-invalid":""),id:"username",placeholder:"Enter username"}),r.a.createElement("div",{className:"invalid-feedback"},m.username),r.a.createElement("input",{onChange:T,value:t.password,type:"password",className:"form-control"+(m.password?" is-invalid":""),id:"password",placeholder:"Enter password"}),r.a.createElement("div",{className:"invalid-feedback"},m.password),r.a.createElement("ul",{className:Y.a.social},r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.facebook.com",className:Y.a.socialBtn},r.a.createElement("i",{className:"fa fa-facebook fa-fw"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://twitter.com/login/error?username_or_email=nicki_mamu%40yahoo.com&redirect_after_login=%2F",className:Y.a.socialBtn},r.a.createElement("i",{className:"fa fa-twitter fa-fw"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://myaccount.google.com/profile",className:Y.a.socialBtn},r.a.createElement("i",{className:"fa fa-google fa-fw"})))),r.a.createElement("button",{type:"submit",className:Y.a.button,disabled:!k},"Login")))))}var ee=function(e){var a=Object(u.i)().bookId,t=Object(n.useState)([]),c=Object(s.a)(t,2),l=c[0],o=c[1],m=Object(n.useState)([]),d=Object(s.a)(m,2),p=d[0],f=d[1],b=Object(n.useState)(null),v=Object(s.a)(b,2),w=v[0],_=v[1],j=Object(n.useContext)(i).user,O=Object(n.useState)(!1),y=Object(s.a)(O,2),k=y[0];function x(){return(x=Object(h.a)(E.a.mark((function e(){var a,t,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/userLibrary",{params:{userId:j.id}}).then((function(e){return e.data}));case 3:return a=e.sent,t=a.map((function(e){return g()("/books/"+e.bookId).then((function(e){return e.data}))})),console.warn({user:j,library:a}),e.next=8,Promise.all(t);case 8:n=e.sent,r=n.map((function(e,t){return Object(P.a)({},e,{libId:a[t].id})})),f(a),o(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.warn(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function S(e){return B.apply(this,arguments)}function B(){return(B=Object(h.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("s-a sters cartea",a),e.prev=1,e.next=4,g.a.delete("/userLibrary/"+a,{data:a}).then(f(p.filter((function(e){return e.id!==Number(a)}))));case 4:setTimeout((function(){return _(!0)}),200),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}if(y[1],Object(n.useEffect)((function(){!function(){x.apply(this,arguments)}(a)}),[]),l)return r.a.createElement("div",{className:"wrapper"},w?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert alert-success",role:"alert"},"Modific\u0103rile tale au fost salvate.",k&&r.a.createElement(u.a,{to:"/profile"}))):null,r.a.createElement(r.a.Fragment,null,l.map((function(e){return r.a.createElement(N,{book:e,onDelete:S,key:e.id})}))))},ae=t(29),te=t.n(ae);var ne=function(){var e=Object(u.i)().bookId,a=Object(n.useState)(null),t=Object(s.a)(a,2),c=(t[0],t[1]),l=Object(n.useContext)(i).user;function o(){return(o=Object(h.a)(E.a.mark((function e(a){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g()("/books/"+a);case 3:t=e.sent,console.log(t.data),c(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(e){o.apply(this,arguments)}(e)}),[e]),l?r.a.createElement("div",{className:te.a.wrapper},r.a.createElement("h4",null,"Nume utilizator: ",l.username),r.a.createElement("p",null,"Biblioteca ta:"),r.a.createElement("div",{className:te.a.list},r.a.createElement(ee,null))):r.a.createElement("h2",null,"Loading...")},re=t(44),ce=t.n(re);g.a.defaults.baseURL="http://localhost:3000";var le=function(){var e=Object(n.useState)(null),a=Object(s.a)(e,2),t=a[0],c=a[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("user");e&&c(JSON.parse(e))}),[]),r.a.createElement(i.Provider,{value:{user:t,setUser:c}},r.a.createElement(o.a,null,r.a.createElement(b,{user:"Nico"}),r.a.createElement("div",{className:ce.a.container},r.a.createElement(u.b,{exact:!0,path:"/"},r.a.createElement(I,null)),r.a.createElement(u.b,{exact:!0,path:"/books/:bookId"},r.a.createElement(R,null)),r.a.createElement(u.b,{path:"/books/add/:bookId"},r.a.createElement(U,null)),r.a.createElement(u.b,{path:"/books/edit/:reviewId"},r.a.createElement(z,null)),r.a.createElement(u.b,{path:"/register"},r.a.createElement(Q,null)),r.a.createElement(u.b,{path:"/login"},r.a.createElement($,null)),r.a.createElement(u.b,{path:"/profile"},r.a.createElement(ne,null)),r.a.createElement(u.b,{path:"/game-of-thrones"},r.a.createElement(V,null)))))};l.a.render(r.a.createElement(le,null),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.a6536f46.chunk.js.map