{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\ebooks-react-booksy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\ebooks-react-booksy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\ebooks-react-booksy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{useLocation}from'react-router-dom';import styles from'./BookList.module.css';import BookCard from'./BookCard';import Weather from'../weather/Weather';import Dictionary from'../dictionary/Dictionary';function BookList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),book=_useState2[0],setBook=_useState2[1];function useQuery(){return new URLSearchParams(useLocation().search);}var q=useQuery().get('q')||'';function getBooks(){return _getBooks.apply(this,arguments);}function _getBooks(){_getBooks=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios('/books');case 2:res=_context.sent;setBook(res.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getBooks.apply(this,arguments);}useEffect(function(){getBooks();},[]);function search(book){var title=book.title.toLowerCase();return title.includes(q.toLowerCase());}if(book){return/*#__PURE__*/React.createElement(\"div\",{className:styles.container},/*#__PURE__*/React.createElement(\"div\",{className:styles.pageItems},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Weather,null)),/*#__PURE__*/React.createElement(\"div\",{className:styles.list},book.filter(search).map(function(book){return/*#__PURE__*/React.createElement(BookCard,{book:book,key:book.id});})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Dictionary,null))));}// if(books) {\n// return (\n//     <div className={ styles.list } >\n//         <div className=\"row\">\n//             {/* { books.length ? \n//                 books.map(book => <BookCard book={ book } key={ book.id } />)\n//                 : 'Loading...' } */}\n//             {/* { books\n//                 .filter(item => searchTerm && item.title.includes(searchTerm.toLowerCase()) || true)\n//                 .map(book => <BookCard book={ book } key={ book.id } /> )} */}\n//             {\n//                 <div className=\"wrapper\">\n//                     {books\n//                     .filter(book => book.title.toLowerCase()\n//                     .includes(q.toLowerCase()))\n//                     .map(book => <BookCard show={ book } key={ book.id } />) }\n//                 </div>\n//             }\n//         </div>\n//     </div>\n// )\n// } else {\n//     return <h2>Loading...</h2>\n// }\n}export default BookList;","map":{"version":3,"sources":["D:/ebooks-react-booksy/src/components/books/BookList.js"],"names":["React","useState","useEffect","axios","useLocation","styles","BookCard","Weather","Dictionary","BookList","book","setBook","useQuery","URLSearchParams","search","q","get","getBooks","res","data","title","toLowerCase","includes","container","pageItems","list","filter","map","id"],"mappings":"sbAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,WAAR,KAA0B,kBAA1B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,uBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CAEA,QAASC,CAAAA,QAAT,EAAoB,eACMR,QAAQ,CAAC,EAAD,CADd,wCACXS,IADW,eACLC,OADK,eAGhB,QAASC,CAAAA,QAAT,EAAoB,CAChB,MAAO,IAAIC,CAAAA,eAAJ,CAAoBT,WAAW,GAAGU,MAAlC,CAAP,CACH,CACD,GAAMC,CAAAA,CAAC,CAAGH,QAAQ,GAAGI,GAAX,CAAe,GAAf,GAAuB,EAAjC,CANgB,QAQDC,CAAAA,QARC,kIAQhB,iKACsBd,CAAAA,KAAK,CAAC,QAAD,CAD3B,QACUe,GADV,eAEQP,OAAO,CAACO,GAAG,CAACC,IAAL,CAAP,CAFR,sDARgB,2CAahBjB,SAAS,CAAC,UAAM,CACZe,QAAQ,GACX,CAFQ,CAEN,EAFM,CAAT,CAIA,QAASH,CAAAA,MAAT,CAAgBJ,IAAhB,CAAsB,CAClB,GAAMU,CAAAA,KAAK,CAAGV,IAAI,CAACU,KAAL,CAAWC,WAAX,EAAd,CACA,MAAOD,CAAAA,KAAK,CAACE,QAAN,CAAeP,CAAC,CAACM,WAAF,EAAf,CAAP,CACH,CAED,GAAGX,IAAH,CAAS,CACL,mBACI,2BAAK,SAAS,CAAGL,MAAM,CAACkB,SAAxB,eACI,2BAAK,SAAS,CAAGlB,MAAM,CAACmB,SAAxB,eACI,4CACI,oBAAC,OAAD,MADJ,CADJ,cAII,2BAAK,SAAS,CAAGnB,MAAM,CAACoB,IAAxB,EACKf,IAAI,CACJgB,MADA,CACOZ,MADP,EAEAa,GAFA,CAEI,SAAAjB,IAAI,qBAAI,oBAAC,QAAD,EAAU,IAAI,CAAGA,IAAjB,CAAwB,GAAG,CAAGA,IAAI,CAACkB,EAAnC,EAAJ,EAFR,CADL,CAJJ,cASI,4CACI,oBAAC,UAAD,MADJ,CATJ,CADJ,CADJ,CAiBH,CACD;AAEI;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAEA;AACJ;AACA;AACA;AACH,CAED,cAAenB,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {useLocation} from 'react-router-dom';\r\n\r\nimport styles from './BookList.module.css';\r\nimport BookCard from './BookCard';\r\nimport Weather from '../weather/Weather';\r\nimport Dictionary from '../dictionary/Dictionary';\r\n\r\nfunction BookList() {\r\n    let [book, setBook] = useState([]);\r\n\r\n    function useQuery() {\r\n        return new URLSearchParams(useLocation().search);\r\n    }\r\n    const q = useQuery().get('q') || '';\r\n\r\n    async function getBooks() {\r\n        const res = await axios('/books');\r\n            setBook(res.data)\r\n    }\r\n    \r\n    useEffect(() => {\r\n        getBooks();\r\n    }, []);\r\n\r\n    function search(book) {\r\n        const title = book.title.toLowerCase()\r\n        return title.includes(q.toLowerCase())\r\n    }\r\n\r\n    if(book) {\r\n        return (\r\n            <div className={ styles.container }>\r\n                <div className={ styles.pageItems }>\r\n                    <div>\r\n                        <Weather/>\r\n                    </div>\r\n                    <div className={ styles.list }>\r\n                        {book\r\n                        .filter(search)\r\n                        .map(book => <BookCard book={ book } key={ book.id } />) }\r\n                    </div>\r\n                    <div>\r\n                        <Dictionary/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    // if(books) {\r\n\r\n        // return (\r\n        //     <div className={ styles.list } >\r\n        //         <div className=\"row\">\r\n\r\n        //             {/* { books.length ? \r\n        //                 books.map(book => <BookCard book={ book } key={ book.id } />)\r\n        //                 : 'Loading...' } */}\r\n\r\n        //             {/* { books\r\n        //                 .filter(item => searchTerm && item.title.includes(searchTerm.toLowerCase()) || true)\r\n        //                 .map(book => <BookCard book={ book } key={ book.id } /> )} */}\r\n\r\n        //             {\r\n        //                 <div className=\"wrapper\">\r\n        //                     {books\r\n        //                     .filter(book => book.title.toLowerCase()\r\n        //                     .includes(q.toLowerCase()))\r\n        //                     .map(book => <BookCard show={ book } key={ book.id } />) }\r\n        //                 </div>\r\n        //             }\r\n        //         </div>\r\n\r\n                \r\n\r\n        //     </div>\r\n\r\n        // )\r\n    // } else {\r\n    //     return <h2>Loading...</h2>\r\n    // }\r\n}\r\n\r\nexport default BookList;\r\n"]},"metadata":{},"sourceType":"module"}