{"ast":null,"code":"var _jsxFileName = \"D:\\\\ebooks-react-booksy\\\\src\\\\components\\\\books\\\\EditBookReview.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport styles from './AddBookReview.module.css';\nexport default function EditReview() {\n  // const { bookId } = useParams();\n  const {\n    reviewId\n  } = useParams();\n  const [redirect, setRedirect] = useState(false);\n  const [review, setReview] = useState({\n    body: '',\n    date: ''\n  });\n  const [isSuccessfull, setSuccessfull] = useState(false);\n  useEffect(() => {\n    getReview(reviewId);\n  }, [reviewId]);\n\n  async function getReview() {\n    try {\n      const res = await axios('/reviews/' + reviewId);\n      console.log(res);\n      setReview(res.data);\n    } catch (e) {\n      console.warn(e);\n    }\n  }\n\n  function handleInputChange(e) {\n    setReview({ ...review,\n      [e.currentTarget.id]: e.currentTarget.value\n    });\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      const res = await axios.put('/reviews/' + reviewId, review);\n      setSuccessfull(true);\n      setTimeout(() => setRedirect(true), 2000);\n      console.log(res);\n    } catch (e) {\n      console.warn(e);\n    }\n  }\n\n  if (!review) {\n    return /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 16\n      }\n    }, \"Nu ai review-uri salvate\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.formBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Editeaz\\u0103 review\"), isSuccessfull ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Modific\\u0103rile tale au fost salvate.\"), redirect && /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 30\n    }\n  })) : null, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: styles.formGroup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, review.body), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleInputChange,\n    value: review.body,\n    type: \"text\",\n    className: styles.formControl,\n    id: \"body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleInputChange,\n    value: review.date,\n    className: 'dateSelector',\n    id: \"date\",\n    placeholder: \"\",\n    type: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: styles.button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }, \"Salveaz\\u0103 modificarea\")))));\n} // INAINTE DE ADAUGARE BUTON DELETE - GOOD\n// export default function EditReview() {\n//     // const { bookId } = useParams();\n//     const { reviewId } = useParams();\n//     const [redirect, setRedirect] = useState(false);\n//     const [review, setReview] = useState({\n//         body: '',\n//         date: ''\n//     });\n//     const[isSuccessfull, setSuccessfull] = useState(false);\n//     useEffect(() => { \n//         getReview(reviewId); \n//     }, [reviewId]);\n//     async function getReview() {\n//         try {\n//             const res = await axios('/reviews/' + reviewId);\n//             console.log(res);\n//             setReview(res.data);\n//         } catch(e) {\n//             console.warn(e);\n//         }\n//     }\n//     function handleInputChange(e) {\n//         setReview({ ...review, [e.currentTarget.id]: e.currentTarget.value});\n//     }\n//     async function handleSubmit(e) {\n//         e.preventDefault();\n//         try {\n//             const res = await axios.put('/reviews/' + reviewId, review);\n//         setSuccessfull(true);\n//         setTimeout(() => setRedirect(true), 2000);\n//         console.log(res);\n//         } catch(e) {\n//             console.warn(e);\n//         }\n//     }\n//     if(!review) {\n//         return <h2>Loading...</h2>;\n//     }\n//     return (\n//         <div className={styles.formBody}>\n//             <h1>Editează review</h1>\n//             {(isSuccessfull ?\n//             <>\n//                 <div className=\"alert alert-success\" role=\"alert\">\n//                     Modificările tale a fost salvate. Mulțumim!\n//                 </div>\n//                 {redirect && <Redirect to='/'/> }\n//                 {/* <Redirect to ='/books/'/> */}\n//                 {/* <button \n//                     className={ styles.button } \n//                     onClick={ handleSubmit }\n//                     href='/books/'>Back\n//                 </button> */}\n//             </>\n//             : null)}\n//             <form onSubmit={ handleSubmit }>\n//                 <div className=\"form-group\">\n//                     <label htmlFor=\"reviews\">Review-ul tău</label>\n//                     <p>{ review.body }</p>\n//                     <input \n//                         onChange={ handleInputChange }\n//                         value={review.body}\n//                         type=\"text\" \n//                         className={'form-control'} \n//                         id=\"body\" \n//                     />\n//                     <input \n//                         onChange={ handleInputChange }\n//                         value={review.date}\n//                         className={'form-control'} \n//                         id=\"date\" \n//                         placeholder=\"\"\n//                         type=\"date\"\n//                     />\n//                 </div>\n//                 <button type=\"submit\" className={ styles.button }>Salvează modificarea</button>\n//             </form>\n//         </div>\n//     )\n// }","map":{"version":3,"sources":["D:/ebooks-react-booksy/src/components/books/EditBookReview.js"],"names":["React","useState","useEffect","useParams","Redirect","axios","styles","EditReview","reviewId","redirect","setRedirect","review","setReview","body","date","isSuccessfull","setSuccessfull","getReview","res","console","log","data","e","warn","handleInputChange","currentTarget","id","value","handleSubmit","preventDefault","put","setTimeout","formBody","formGroup","formControl","button"],"mappings":"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JP;AAKI,IAAA,WAAW,EAAC,EALhB;AAMI,IAAA,IAAI,EAAC,MANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,eAkBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAGR,MAAM,CAAC6B,MAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADJ,CAlBJ,CADJ,CAXJ,CADJ;AAsCH,C,CAGD;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, Redirect } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport styles from './AddBookReview.module.css';\r\n\r\nexport default function EditReview() {\r\n    // const { bookId } = useParams();\r\n    const { reviewId } = useParams();\r\n    const [redirect, setRedirect] = useState(false);\r\n    const [review, setReview] = useState({\r\n        body: '',\r\n        date: ''\r\n    });\r\n    const[isSuccessfull, setSuccessfull] = useState(false);\r\n\r\n    useEffect(() => { \r\n        getReview(reviewId); \r\n    }, [reviewId]);\r\n\r\n    async function getReview() {\r\n        try {\r\n            const res = await axios('/reviews/' + reviewId);\r\n            console.log(res);\r\n            setReview(res.data);\r\n        } catch(e) {\r\n            console.warn(e);\r\n        }\r\n    }\r\n\r\n    function handleInputChange(e) {\r\n        setReview({ ...review, [e.currentTarget.id]: e.currentTarget.value});\r\n    }\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault();\r\n        try {\r\n\r\n            const res = await axios.put('/reviews/' + reviewId, review);\r\n\r\n        setSuccessfull(true);\r\n        setTimeout(() => setRedirect(true), 2000);\r\n\r\n        console.log(res);\r\n        } catch(e) {\r\n            console.warn(e);\r\n        }\r\n    }\r\n\r\n    if(!review) {\r\n        return <h2>Nu ai review-uri salvate</h2>;\r\n    }\r\n\r\n    return (\r\n        <div className={styles.formBody}>\r\n            <h2>Editează review</h2>\r\n            {(isSuccessfull ?\r\n            <div className=\"alert-success\">\r\n                <div className=\"alert\" role=\"alert\">\r\n                    Modificările tale au fost salvate.\r\n                </div>\r\n                {redirect && <Redirect to='/'/> }\r\n            </div>\r\n            : null)}\r\n\r\n            <form onSubmit={ handleSubmit } className={ styles.formGroup}>\r\n                <div>\r\n                    {/* <label htmlFor=\"reviews\">Review-ul tău</label> */}\r\n                    <p>{ review.body }</p>\r\n                    <input \r\n                        onChange={ handleInputChange }\r\n                        value={review.body}\r\n                        type=\"text\" \r\n                        className={styles.formControl} \r\n                        id=\"body\" \r\n                    />\r\n                    <input \r\n                        onChange={ handleInputChange }\r\n                        value={review.date}\r\n                        className={'dateSelector'}\r\n                        id=\"date\" \r\n                        placeholder=\"\"\r\n                        type=\"date\"\r\n                    />\r\n                    <div>\r\n                        <button type=\"submit\" className={ styles.button }>Salvează modificarea</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n// INAINTE DE ADAUGARE BUTON DELETE - GOOD\r\n\r\n// export default function EditReview() {\r\n//     // const { bookId } = useParams();\r\n//     const { reviewId } = useParams();\r\n//     const [redirect, setRedirect] = useState(false);\r\n//     const [review, setReview] = useState({\r\n//         body: '',\r\n//         date: ''\r\n//     });\r\n//     const[isSuccessfull, setSuccessfull] = useState(false);\r\n\r\n//     useEffect(() => { \r\n//         getReview(reviewId); \r\n//     }, [reviewId]);\r\n\r\n//     async function getReview() {\r\n//         try {\r\n//             const res = await axios('/reviews/' + reviewId);\r\n//             console.log(res);\r\n//             setReview(res.data);\r\n//         } catch(e) {\r\n//             console.warn(e);\r\n//         }\r\n//     }\r\n\r\n//     function handleInputChange(e) {\r\n//         setReview({ ...review, [e.currentTarget.id]: e.currentTarget.value});\r\n//     }\r\n\r\n//     async function handleSubmit(e) {\r\n//         e.preventDefault();\r\n//         try {\r\n\r\n//             const res = await axios.put('/reviews/' + reviewId, review);\r\n\r\n//         setSuccessfull(true);\r\n//         setTimeout(() => setRedirect(true), 2000);\r\n\r\n//         console.log(res);\r\n//         } catch(e) {\r\n//             console.warn(e);\r\n//         }\r\n//     }\r\n\r\n//     if(!review) {\r\n//         return <h2>Loading...</h2>;\r\n//     }\r\n\r\n//     return (\r\n//         <div className={styles.formBody}>\r\n//             <h1>Editează review</h1>\r\n//             {(isSuccessfull ?\r\n//             <>\r\n//                 <div className=\"alert alert-success\" role=\"alert\">\r\n//                     Modificările tale a fost salvate. Mulțumim!\r\n//                 </div>\r\n//                 {redirect && <Redirect to='/'/> }\r\n//                 {/* <Redirect to ='/books/'/> */}\r\n//                 {/* <button \r\n//                     className={ styles.button } \r\n//                     onClick={ handleSubmit }\r\n//                     href='/books/'>Back\r\n//                 </button> */}\r\n//             </>\r\n//             : null)}\r\n\r\n//             <form onSubmit={ handleSubmit }>\r\n//                 <div className=\"form-group\">\r\n//                     <label htmlFor=\"reviews\">Review-ul tău</label>\r\n//                     <p>{ review.body }</p>\r\n//                     <input \r\n//                         onChange={ handleInputChange }\r\n//                         value={review.body}\r\n//                         type=\"text\" \r\n//                         className={'form-control'} \r\n//                         id=\"body\" \r\n//                     />\r\n//                     <input \r\n//                         onChange={ handleInputChange }\r\n//                         value={review.date}\r\n//                         className={'form-control'} \r\n//                         id=\"date\" \r\n//                         placeholder=\"\"\r\n//                         type=\"date\"\r\n//                     />\r\n//                 </div>\r\n//                 <button type=\"submit\" className={ styles.button }>Salvează modificarea</button>\r\n//             </form>\r\n//         </div>\r\n//     )\r\n// }\r\n"]},"metadata":{},"sourceType":"module"}