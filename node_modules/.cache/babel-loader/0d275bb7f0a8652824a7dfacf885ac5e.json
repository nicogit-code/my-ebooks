{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\ebooks-react-booksy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\ebooks-react-booksy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\ebooks-react-booksy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from'react';import axios from'axios';import{useParams,Link}from'react-router-dom';import UserContext from'./UserContext';import UserLibrary from'./UserLibrary';import styles from'./UserProfile.css';function UserProfile(){var _useParams=useParams(),bookId=_useParams.bookId;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),book=_useState2[0],setBook=_useState2[1];var _useContext=useContext(UserContext),user=_useContext.user;function getBookById(_x){return _getBookById.apply(this,arguments);}function _getBookById(){_getBookById=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios('/books/'+id);case 3:res=_context.sent;console.log(res.data);setBook(res.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.warn(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _getBookById.apply(this,arguments);}useEffect(function(){getBookById(bookId);},[bookId]);if(user){return/*#__PURE__*/React.createElement(\"div\",{className:styles.wrapper},/*#__PURE__*/React.createElement(\"h4\",null,\"Nume utilizator: \",user.username),/*#__PURE__*/React.createElement(\"p\",null,\"Biblioteca ta:\"),/*#__PURE__*/React.createElement(\"div\",{className:styles.list},/*#__PURE__*/React.createElement(UserLibrary,null)));}else{return/*#__PURE__*/React.createElement(\"h2\",null,\"Loading...\");}}export default UserProfile;","map":{"version":3,"sources":["D:/ebooks-react-booksy/src/components/auth/UserProfile.js"],"names":["React","useEffect","useState","useContext","axios","useParams","Link","UserContext","UserLibrary","styles","UserProfile","bookId","book","setBook","user","getBookById","id","res","console","log","data","warn","wrapper","username","list"],"mappings":"sbAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,UAArC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,IAApB,KAAgC,kBAAhC,CAGA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CAEA,QAASC,CAAAA,WAAT,EAAuB,gBACAL,SAAS,EADT,CACXM,MADW,YACXA,MADW,eAEKT,QAAQ,CAAC,IAAD,CAFb,wCAEZU,IAFY,eAENC,OAFM,+BAGFV,UAAU,CAACI,WAAD,CAHR,CAGXO,IAHW,aAGXA,IAHW,SAKJC,CAAAA,WALI,6IAKnB,iBAA2BC,EAA3B,gKAE0BZ,CAAAA,KAAK,CAAC,UAAYY,EAAb,CAF/B,QAEcC,GAFd,eAGQC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACAP,OAAO,CAACI,GAAG,CAACG,IAAL,CAAP,CAJR,+EAMQF,OAAO,CAACG,IAAR,cANR,oEALmB,8CAgBnBpB,SAAS,CAAC,UAAM,CACZc,WAAW,CAACJ,MAAD,CAAX,CACH,CAFQ,CAEN,CAACA,MAAD,CAFM,CAAT,CAIA,GAAGG,IAAH,CAAS,CACL,mBACQ,2BAAK,SAAS,CAAGL,MAAM,CAACa,OAAxB,eACI,kDAAuBR,IAAI,CAACS,QAA5B,CADJ,cAEI,8CAFJ,cAGI,2BAAK,SAAS,CAAGd,MAAM,CAACe,IAAxB,eACI,oBAAC,WAAD,MADJ,CAHJ,CADR,CASH,CAVD,IAUO,CACC,mBAAO,2CAAP,CACP,CACJ,CAED,cAAed,CAAAA,WAAf","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, Link } from 'react-router-dom';\r\n\r\n\r\nimport UserContext from './UserContext';\r\nimport UserLibrary from './UserLibrary';\r\n\r\nimport styles from './UserProfile.css';\r\n\r\nfunction UserProfile() {\r\n    const { bookId } = useParams();\r\n    const [book, setBook] = useState(null);\r\n    const { user } = useContext(UserContext);\r\n\r\n    async function getBookById(id) {\r\n        try {\r\n            const res = await axios('/books/' + id);\r\n            console.log(res.data);\r\n            setBook(res.data);\r\n        } catch(e) {\r\n            console.warn(e);\r\n        }\r\n        // console.log(book);\r\n    }\r\n\r\n    useEffect(() => { \r\n        getBookById(bookId); \r\n    }, [bookId]);\r\n\r\n    if(user) {\r\n        return(\r\n                <div className={ styles.wrapper }>\r\n                    <h4>Nume utilizator: { user.username }</h4>\r\n                    <p>Biblioteca ta:</p>\r\n                    <div className={ styles.list }>\r\n                        <UserLibrary />\r\n                    </div>\r\n                </div>\r\n        );\r\n    } else {\r\n            return <h2>Loading...</h2>\r\n    }\r\n}\r\n\r\nexport default UserProfile;\r\n\r\n"]},"metadata":{},"sourceType":"module"}