{"ast":null,"code":"import _slicedToArray from\"D:\\\\ebooks-react-booksy\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{Link,useHistory}from'react-router-dom';import UserContext from'../auth/UserContext';import Logo from'../images/logo2.png';// import GoTBooks from '../got/GoTBooks';\nimport styles from'./Header.module.css';function Header(){var _useContext=useContext(UserContext),user=_useContext.user,setUser=_useContext.setUser;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var history=useHistory();var timeout=null;function handleLogout(e){e.preventDefault();setUser(null);localStorage.removeItem('user');}function handleInputChange(e){if(timeout){clearTimeout(timeout);}var value=e.currentTarget.value;setQuery(value);timeout=setTimeout(function(){return history.push('/?q='+value);},300);}return/*#__PURE__*/React.createElement(\"nav\",{className:styles.navBar},/*#__PURE__*/React.createElement(\"img\",{className:styles.navLogo,src:Logo,alt:\"logo\",width:180,height:100}),/*#__PURE__*/React.createElement(\"div\",{className:styles.siteNav},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{className:styles.active},/*#__PURE__*/React.createElement(\"a\",{href:\"/\"},\"Home\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"/game-of-thrones\"},\"GoT Lovers only\")))),/*#__PURE__*/React.createElement(\"div\",{className:styles.actions},/*#__PURE__*/React.createElement(\"div\",{className:styles.siteNav},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"input\",{className:styles.searchBar,onChange:handleInputChange,value:query,type:\"text\",placeholder:\"Caut\\u0103 o carte\"})),/*#__PURE__*/React.createElement(\"li\",null,user?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{className:styles.active,to:\"/profile\"},\"Welcome, \",user.username),/*#__PURE__*/React.createElement(\"a\",{href:\"/\",className:styles.active,onClick:handleLogout},\"Logout\")):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{className:styles.active,to:\"/login\"},\"Login\"),/*#__PURE__*/React.createElement(Link,{className:styles.active,to:\"/register\"},\"Register\")))))));}export default Header;","map":{"version":3,"sources":["D:/ebooks-react-booksy/src/components/shared/Header.js"],"names":["React","useState","useContext","Link","useHistory","UserContext","Logo","styles","Header","user","setUser","query","setQuery","history","timeout","handleLogout","e","preventDefault","localStorage","removeItem","handleInputChange","clearTimeout","value","currentTarget","setTimeout","push","navBar","navLogo","siteNav","active","actions","searchBar","username"],"mappings":"mJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,qBAAxB,CACA,MAAOC,CAAAA,IAAP,KAAiB,qBAAjB,CACA;AAEA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CAEA,QAASC,CAAAA,MAAT,EAAkB,iBACYN,UAAU,CAACG,WAAD,CADtB,CACNI,IADM,aACNA,IADM,CACAC,OADA,aACAA,OADA,eAEYT,QAAQ,CAAC,EAAD,CAFpB,wCAEPU,KAFO,eAEAC,QAFA,eAGd,GAAMC,CAAAA,OAAO,CAAGT,UAAU,EAA1B,CACA,GAAIU,CAAAA,OAAO,CAAG,IAAd,CAEA,QAASC,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACvBA,CAAC,CAACC,cAAF,GAEAP,OAAO,CAAC,IAAD,CAAP,CACAQ,YAAY,CAACC,UAAb,CAAwB,MAAxB,EACD,CAED,QAASC,CAAAA,iBAAT,CAA2BJ,CAA3B,CAA8B,CAC5B,GAAGF,OAAH,CAAY,CACVO,YAAY,CAACP,OAAD,CAAZ,CACD,CACD,GAAMQ,CAAAA,KAAK,CAAGN,CAAC,CAACO,aAAF,CAAgBD,KAA9B,CACAV,QAAQ,CAACU,KAAD,CAAR,CACAR,OAAO,CAAGU,UAAU,CAAC,iBAAMX,CAAAA,OAAO,CAACY,IAAR,CAAa,OAASH,KAAtB,CAAN,EAAD,CAAqC,GAArC,CAApB,CACD,CAED,mBACE,2BAAK,SAAS,CAAEf,MAAM,CAACmB,MAAvB,eAEE,2BAAK,SAAS,CAAGnB,MAAM,CAACoB,OAAxB,CAAkC,GAAG,CAAErB,IAAvC,CAA6C,GAAG,CAAC,MAAjD,CAAwD,KAAK,CAAE,GAA/D,CAAoE,MAAM,CAAE,GAA5E,EAFF,cAIE,2BAAK,SAAS,CAAEC,MAAM,CAACqB,OAAvB,eACE,2CACE,0BAAI,SAAS,CAAErB,MAAM,CAACsB,MAAtB,eAA8B,yBAAG,IAAI,CAAC,GAAR,SAA9B,CADF,cAIE,2CAAI,yBAAG,IAAI,CAAC,kBAAR,oBAAJ,CAJF,CADF,CAJF,cAaE,2BAAK,SAAS,CAAEtB,MAAM,CAACuB,OAAvB,eACE,2BAAK,SAAS,CAAEvB,MAAM,CAACqB,OAAvB,eACE,2CACE,2CAEE,6BAAO,SAAS,CAAErB,MAAM,CAACwB,SAAzB,CACE,QAAQ,CAAKX,iBADf,CAEE,KAAK,CAAGT,KAFV,CAGE,IAAI,CAAC,MAHP,CAIE,WAAW,CAAC,oBAJd,EAFF,CADF,cAYE,8BACKF,IAAI,cACL,qDACE,oBAAC,IAAD,EAAM,SAAS,CAAEF,MAAM,CAACsB,MAAxB,CAAgC,EAAE,CAAC,UAAnC,cACapB,IAAI,CAACuB,QADlB,CADF,cAIE,yBAAG,IAAI,CAAC,GAAR,CAAY,SAAS,CAAEzB,MAAM,CAACsB,MAA9B,CAAsC,OAAO,CAAGd,YAAhD,WAJF,CADK,cAQL,qDACE,oBAAC,IAAD,EAAM,SAAS,CAAER,MAAM,CAACsB,MAAxB,CAAgC,EAAE,CAAC,QAAnC,UADF,cAIE,oBAAC,IAAD,EAAM,SAAS,CAAEtB,MAAM,CAACsB,MAAxB,CAAgC,EAAE,CAAC,WAAnC,aAJF,CATJ,CAZF,CADF,CADF,CAbF,CADF,CAqDH,CAED,cAAerB,CAAAA,MAAf","sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport UserContext from '../auth/UserContext';\r\nimport Logo from '../images/logo2.png';\r\n// import GoTBooks from '../got/GoTBooks';\r\n\r\nimport styles from './Header.module.css';\r\n\r\nfunction Header() {\r\n    const { user, setUser } = useContext(UserContext);\r\n    const [query, setQuery] = useState('');\r\n    const history = useHistory();\r\n    let timeout = null;\r\n\r\n    function handleLogout(e) {\r\n      e.preventDefault();\r\n\r\n      setUser(null);\r\n      localStorage.removeItem('user');\r\n    }\r\n\r\n    function handleInputChange(e) {\r\n      if(timeout) {\r\n        clearTimeout(timeout);\r\n      }\r\n      const value = e.currentTarget.value;\r\n      setQuery(value);\r\n      timeout = setTimeout(() => history.push('/?q=' + value), 300);\r\n    }\r\n\r\n    return(\r\n      <nav className={styles.navBar}>\r\n\r\n        <img className={ styles.navLogo } src={Logo} alt=\"logo\" width={180} height={100} />\r\n          \r\n        <div className={styles.siteNav}>\r\n          <ul>\r\n            <li className={styles.active}><a href=\"/\">Home</a></li>\r\n            {/* <li><a href=\"#0\">Despre</a></li> */}\r\n            {/* <li><a href=\"#0\">Contact</a></li> */}\r\n            <li><a href=\"/game-of-thrones\">GoT Lovers only</a></li>\r\n          </ul>\r\n        </div>\r\n          \r\n        <div className={styles.actions}>\r\n          <div className={styles.siteNav}>\r\n            <ul>\r\n              <li>\r\n                {/* <form className=\"searchBar\"> */}\r\n                <input className={styles.searchBar}\r\n                  onChange = { handleInputChange }\r\n                  value={ query }\r\n                  type=\"text\"\r\n                  placeholder=\"CautÄƒ o carte\" >\r\n                </input>\r\n              {/* </form> */}\r\n              </li>\r\n\r\n              <li>\r\n                {( user ?\r\n                  <>\r\n                    <Link className={styles.active} to=\"/profile\">\r\n                      Welcome, { user.username }\r\n                    </Link>\r\n                    <a href=\"/\" className={styles.active} onClick={ handleLogout }>Logout</a>\r\n                  </>\r\n                  :\r\n                  <>\r\n                    <Link className={styles.active} to=\"/login\">\r\n                      Login\r\n                    </Link>\r\n                    <Link className={styles.active} to=\"/register\">\r\n                      Register\r\n                    </Link>\r\n                  </>\r\n                )}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n      </nav>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n\r\n"]},"metadata":{},"sourceType":"module"}